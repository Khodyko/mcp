Техническое задание: Оркестратор агентов (MCP) на базе Spring AI

Цель
- Подготовить демонстрационный проект для доклада о возможностях Spring AI, показывающий MCP-ориентированную оркестрацию агентов и интеграцию локальных и удалённых LLM.

Требования к функционалу
1. Входной REST API
- `SupportAssistantController` с эндпоинтом `/ask` принимающим текстовый запрос и возвращающим агрегированный ответ.

2. Оркестратор (MCP)
- Класс `OrchestratorService`:
  - Анализирует входный запрос и выбирает один или несколько агентов для обработки.
  - Координирует вызовы агентов и агрегирует их ответы в единый результат.

3. Интерфейс агентов
- `SupportAgent` с методами:
  - `boolean canHandle(String query)` — проверка способности обработать запрос.
  - `String handle(String query)` — выполнение обработки и формирование ответа.

4. Реализованные агенты
- `OrderAgent` — обрабатывает запросы, связанные с заказами; использует `OrderRepository` (PostgreSQL) для получения данных;
- `ProductAgent` — выполняет семантический поиск по каталогу продуктов через `Pgvector`;
- `RecommendationAgent` — формирует рекомендации на основе истории пользователя (`UserRepository`);
- `FallbackAgent` — возвращает стандартный ответ, если другие агенты не подошли.

5. Embedding и векторная база
- `EmbeddingService` генерирует эмбеддинги (BGE-small) и сохраняет/поиск в `VectorRepository` (Pgvector).

6. Интеграция LLM
- `AiModelClient` взаимодействует со Spring AI и поддерживает подключение локальной LLM (Ollama) и удалённой LLM одновременно. Должны быть примеры конфигурации для обоих режимов.

7. Хранилище данных и репозитории
- `OrderRepository` — пример выборки заказов из PostgreSQL;
- `UserRepository` — хранение истории и действий пользователей;
- `VectorRepository` — API доступа к Pgvector для RAG.

8. Логирование и обработка ошибок
- Использовать SLF4J для логирования.
- Глобальная обработка ошибок через `@ControllerAdvice` и кастомные исключения.

9. Документация и демонстрация
- README с инструкциями по запуску и конфигурации (локальная LLM, удалённая LLM, БД, Pgvector).
- Скрипт или набор команд для подготовки демонстрационных данных (несколько заказов, каталог товаров, эмбеддинги).
- Примеры запросов для показа сценариев: запросы по заказам, поиск продукта, запрос на рекомендации, нераспознанный запрос.

Сущности и модель предметной области
1. Товар (Product)
 - `id` (UUID или long) — уникальный идентификатор товара
 - `name` (String) — название товара
 - `description` (String) — подробное описание
 - `price` (Decimal) — стоимость
 - `stock` (int) — количество на складе (остаток)
 - `type` (String / enum) — тип или категория товара

2. Заказ (Order)
 - `id` (UUID или long) — уникальный идентификатор заказа
 - `productId` (ссылка на `Product`) — идентификатор товара
 - `quantity` (int) — количество заказанных единиц
 - `fulfilled` (boolean) — отметка, выполнен ли заказ

3. Заказчик (Customer)
 - `id` (UUID или long) — уникальный идентификатор клиента
 - `name` (String) — имя клиента


